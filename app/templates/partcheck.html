<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <p>Hello I'm Checker</p>
    <!-- <script src="./minified/html5-qrcode.js"></script> -->
    <script src="https://raw.githubusercontent.com/mebjas/html5-qrcode/master/minified/html5-qrcode.min.js"></script>

    <script>
        const html5QrCode = new Html5Qrcode("reader");

        html5QrCode.start(
            cameraId, // retreived in the previous step.
            {
                fps: 10,    // sets the framerate to 10 frame per second 
                qrbox: 250  // sets only 250 X 250 region of viewfinder to
                // scannable, rest shaded.
            },
            qrCodeMessage => {
                // do something when code is read. For example:
                console.log(`QR Code detected: ${qrCodeMessage}`);
            },
            errorMessage => {
                // parse error, ideally ignore it. For example:
                console.log(`QR Code no longer in front of camera.`);
            })
            .catch(err => {
                // Start failed, handle it. For example, 
                console.log(`Unable to start scanning, error: ${err}`);
            });


        function onScanSuccess(qrMessage) {
            // handle the scanned code as you like
            console.log(`QR matched = ${qrMessage}`);
        }

        function onScanFailure(error) {
            // handle scan failure, usually better to ignore and keep scanning
            console.warn(`QR error = ${error}`);
        }

        let html5QrcodeScanner = new Html5QrcodeScanner(
            "reader", { fps: 10, qrbox: 250 }, /* verbose= */ true);
        html5QrcodeScanner.render(onScanSuccess, onScanFailure);

    </script>


</head>

<body>
    <div class="container">
        <div id="reader" style="display: inline-block; position: relative; padding: 0px; border: 1px solid silver;">
            <div
                style="text-align: left; margin: 0px; padding: 5px; font-size: 20px; border-bottom: 1px solid rgba(192, 192, 192, 0.18);">
                <span>QR Code Scanner</span><span id="reader__status_span"
                    style="float: right; padding: 5px 7px; font-size: 14px; background: rgb(238, 238, 255); border: 1px solid rgba(0, 0, 0, 0); color: rgb(17, 17, 17);">IDLE</span>
                <div id="reader__header_message"
                    style="display: none; font-size: 14px; padding: 2px 10px; margin-top: 4px; border-top: 1px solid rgb(246, 246, 246); background: rgba(0, 0, 0, 0); color: rgb(17, 17, 17);">
                    Requesting camera permissions...</div>
            </div>
            <div id="reader__scan_region" style="width: 100%; min-height: 100px; text-align: center;"><br><img
                    width="64" src="https://raw.githubusercontent.com/mebjas/html5-qrcode/master/assets/camera-scan.gif"
                    style="opacity: 0.3;"></div>
            <div id="reader__dashboard" style="width: 100%;">
                <div id="reader__dashboard_section" style="width: 100%; padding: 10px; text-align: left;">
                    <div>

                    </div>

                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <button class="button" onclick="html5QrCode.start">Scan</button>
    </div>

</body>

</html>